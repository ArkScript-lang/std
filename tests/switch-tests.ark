(import "tests-tools.ark")

(import "Switch.ark")

(let switch-tests (fun () {
    (mut tests 0)
    (let start-time (time))

    (switch 12 [
        [0    '(assert-val false "switch 12" tests)]
        [-1   '(assert-val false "switch 12" tests)]
        [nil  '(assert-val false "switch 12" tests)]
        ["12" '(assert-val false "switch 12" tests)]
        [[12] '(assert-val false "switch 12" tests)]
        [12   '(set tests (assert-val true "switch 12" tests))]
        [true '(assert-val false "switch 12" tests)]
    ])

    (switch 0 [
        [nil  '(assert-val false "switch 0" tests)]
    ])
    (set tests (assert-val true "switch 0" tests))

    (recap "Switch tests passed" tests (- (time) start-time))

    tests
}))

(let passed-switch (switch-tests))